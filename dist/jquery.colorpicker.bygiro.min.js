function selectResult(e,t){if(1==e.length)return e[0].querySelectorAll(t);for(var a=[],s=0;s<e.length;s++){var n=e[s],i=angular.element(n.querySelectorAll(t));a.push.apply(a,i.slice())}return a}var bg=bg||!1;bg||("undefined"!=typeof jQuery?bg=jQuery:"undefined"!=typeof angular&&(bg=angular.element,bg.extend=angular.extend,bg.prototype.find=function(e){var t=this[0];if(!t||1!==t.nodeType&&9!==t.nodeType||!angular.isString(e))return[];var a=[];if(">"===e.charAt(0)&&(e=":scope "+e),e.indexOf(":visible")>-1){var s=angular.element(selectResult(this,e.split(":visible")[0]));forEach(s,function(e,t){angular.element(e).is(":visible")&&a.push(e)})}else a=selectResult(this,e);return a.length?1==a.length?angular.element(a[0]):angular.element(a):angular.element()})),function(e){"use strict";var t="colorPickerByGiro",a={},s=function(e,t,s){clearTimeout(a[s]),a[s]=setTimeout(e,t)},n=function(e,t,a){return e<t&&(e=t),e>a&&(e=a),e},i=function(){var e=this,t=e.settings,a='<input type="text" value="" data-cp-t="',s='<div class="cpBG fade"><div class="cp-colors"><div class="cp-white"><div class="cp-black"><div class="cp-cursor"></div></div></div><div class="cp-trigger"></div></div><div class="cp-hues"><div class="ie-1"></div><div class="ie-2"></div><div class="ie-3"></div><div class="ie-4"></div><div class="ie-5"></div><div class="ie-6"></div><div class="cp-cursor"></div><div class="cp-trigger" data-cp-t="h"></div></div><div class="cp-alpha"><div class="cp-chess-bg"><div class="cp-chess"></div></div><div class="cp-bg"></div><div class="cp-cursor"></div><div class="cp-trigger" data-cp-t="a"></div></div><div class="cp-values"><div class="cp-prev"><i>&nbsp;</i></div><div class="cp-hex">Hex: '+a+'" /></div><div class="cp-r">R: '+a+'r" /></div><div class="cp-g">G: '+a+'g" /></div><div class="cp-b">B: '+a+'b" /></div><div class="cp-a">A: '+a+'a" /></div></div><div class="cp-buttons"><div class="btn btn-default btn-none">'+t.text.none+'</div><div class="btn btn-info btn-close">'+t.text.close+'</div></div><div class="clear"></div></div>';e.$main.append(s)},r=function(e,t){var a=this,s=(a.settings,a.dragType),n=a.dragRect,i=a.hsva;e=Math.max(Math.min(e,n.width),0),t=Math.max(Math.min(t,n.height),0),"h"==s?i.h=t/n.height:"a"==s?i.a=Number((t/n.height).toFixed(3)):(i.s=e/n.width,i.v=1-t/n.height),"undefined"!=typeof i.s&&a.setValue(i)},c=function(){var t,a,i=this,c=(i.settings,!1),l=function(t){if(!c){t.stopPropagation(),t.preventDefault();var a=e(t.target).parent().find(".cp-trigger"),s=a[0].getBoundingClientRect();i.dragType=a.attr("data-cp-t"),c=!0,i.dragRect={x:s.left,y:s.top,width:s.right-s.left,height:s.bottom-s.top},r.call(i,t.offsetX||t.layerX,t.offsetY||t.layerY)}},o=function(e){c&&(e.stopPropagation(),c=!1,delete i.dragType,delete i.dragRect)},v=i.$main.find(".cpBG");i.$main.find(".cp-trigger").on("mousedown touchstart",l).on("mouseup touchend",o),i.$main.on("mousemove touchmove",function(e){if(c){var t=i.dragRect;r.call(i,e.clientX-t.x,e.clientY-t.y)}}),e("body").on("mouseup touchend",o),t=i.$main.find(".cp-values div:not(.cp-hex) [data-cp-t]"),t.on("keyup",function(){s(function(){for(var e={},a=0;a<t.length;a++){var s=t[a],r=s.getAttribute("data-cp-t"),c=parseFloat(s.value);e[r]="a"!=r?n(c,0,255):n(c,0,1)}i.hsva=i.rgb2hsv(e.r,e.g,e.b),i.hsva.a=e.a,i.setValue()},350,"r")}),i.$main.find(".cp-hex input").on("keyup",function(){var t=e(this);s(function(){i.setValue(t.val())},350,"h")}),i.$main.find(".cp-buttons .btn-close").on("click",function(){v.removeClass("in")}),i.$main.find(".cp-buttons .btn-none").on("click",function(){i.setValue({h:0,s:0,v:1,a:0}),i.$eleInput.val(""),i.$main.find("input").val("")}),a=function(){v.addClass("in")},i.$eleInput.on("focus",a),i.$element.on("click",a)},l={init:function(t,a){var s=this;s.$element=t,s.settings=e.extend({},{preview:"",showPicker:!0,format:"rgb",sliderGap:6,cursorGap:6,text:{close:"Close",none:"None"}},a);var n=s.settings;n.format=n.format.toLowerCase(),n.preview=!!n.preview.length&&n.preview,n.preview instanceof e||(n.preview=e(n.preview)),s.$eleInput=s.$element.find("input"),s.$main=s.$element.wrap('<div class="cp-cont"></div>').parent(),i.call(s),c.call(s),s.hsva={h:.5,s:0,v:0,a:1},s.setValue()},setValue:function(t){var a,n,i,r,c=this,l=c.settings,o=t||c.hsva,v="",d=l.sliderGap,p=l.cursorGap,u=c.$main.find(".cp-colors .cp-cursor"),h=c.$main.find(".cp-hues .cp-cursor"),g=c.$main.find(".cp-alpha .cp-cursor");switch("string"==typeof o&&(o=c.str2hsva(o)),c.hsva=o,a=c.hsv2rgb(o.h,o.s,o.v),a.a=o.a||0===o.a?o.a:1,i=c.hsv2rgb(o.h,1,1),i=c.rgb2str(i.r,i.g,i.b),r=c.rgb2str(a.r,a.g,a.b,o.a),n=c.rgb2hex(a.r,a.g,a.b),l.format){case"hsl":case"hsla":v=c.hsv2hsl(o.h,o.s,o.v),v=c.hsl2str(v.h,v.s,v.l,o.a);break;case"rgb":case"rgba":v=r;break;case"hex":default:v=n}c.$eleInput.val(v),l.preview&&e(l.preview).css("background-color",r),c.$main.find(".cp-values .cp-hex input").val(n);for(var f in a)c.$main.find('.cp-values [data-cp-t="'+f+'"]').val(a[f]);h.css("background-color",i),u.css("background-color",n),c.$main.find(".cp-colors").css("background-color",i),c.$main.find(".cp-alpha .cp-cursor").css("background",r),c.$main.find(".cp-alpha .cp-bg").css("background","linear-gradient(to bottom, transparent, "+n+")"),u.css({left:200*o.s-p+"px",top:200*(1-o.v)-p+"px"}),h.css("top",200*o.h-d+"px"),g.css("top",200*o.a-d+"px"),c.$main.find(".cp-values .cp-prev i").css("background-color",r),s(function(){c.$element.triggerHandler("selected.colorPickerByGiro",{hexadecimal:n,hsva:c.hsva,rgba:a,rgbaStr:r})},400,"c")},str2hsva:function(e){function t(e){return e.replace(/[a-z;\(\)]/g,"").split(",")}var a,s,n=this,i={},r=void 0;if(e&&""!=e||(e="#fff"),a=e.trim().toLowerCase(),a.indexOf("rgb")>=0){a=t(a),console.log(a);for(var c=0;c<3;c++)s=parseFloat(a[c]),a[c].indexOf("%")>=0&&(s*=2.55),a[c]=s;r=n.rgb2hsv(a[0],a[1],a[2]),4==a.length&&(r.a=a[3])}else a.indexOf("hsl")>=0?(a=t(a),r=n.hsl2hsv(a[0]/360,a[1]/100,a[2]/100),4==a.length&&(r.a=a[3])):(i=n.hex2rgb(a),r=n.rgb2hsv(i.r,i.g,i.b));return r},hsv2rgb:function(e,t,a){var s=Math.floor,n=parseFloat;e=n(e)||0,t=n(t)||0,a=n(a)||0;var i,r,c,l=255,o=s(6*e),v=6*e-o,d=a*(1-t),p=a*(1-v*t),u=a*(1-(1-v)*t);switch(o%6){case 0:i=a,r=u,c=d;break;case 1:i=p,r=a,c=d;break;case 2:i=d,r=a,c=u;break;case 3:i=d,r=p,c=a;break;case 4:i=u,r=d,c=a;break;case 5:i=a,r=d,c=p}return{r:s(i*l),g:s(r*l),b:s(c*l)}},rgb2hsv:function(e,t,a){var s,n=Math.max(e,t,a),i=Math.min(e,t,a),r=n-i,c=0===n?0:r/n,l=n/255;switch(n){case i:s=0;break;case e:s=t-a+r*(t<a?6:0),s/=6*r;break;case t:s=a-e+2*r,s/=6*r;break;case a:s=e-t+4*r,s/=6*r}return{h:s,s:c,v:l}},hex2rgb:function(e){var t=e.replace("#","").slice(0,6);console.log(t),t=t.match(new RegExp("(.{"+t.length/3+"})","g"));for(var a=0;a<t.length;a++)t[a]=parseInt(1==t[a].length?t[a]+t[a]:t[a],16);return{r:t[0],g:t[1],b:t[2]}},rgb2str:function(e,t,a,s){var n="rgb",i=[e,t,a];return"undefined"!=typeof s&&(n+="a",i.push(s)),n+"("+i.join(",")+")"},rgb2hex:function(e,t,a){return"#"+((1<<24)+(e<<16)+(t<<8)+a).toString(16).slice(1).toUpperCase()},hsv2hsl:function(e,t,a){return{h:e,s:t*a/((e=(2-t)*a)<1?e:2-e),l:e/2}},hsl2hsv:function(e,t,a){return t*=a<.5?a:1-a,{h:e,s:2*t/(a+t),v:a+t}},hsl2str:function(e,t,a,s){var n="hsl",i=[360*e,100*t+"%",100*a+"%"];return"undefined"!=typeof s&&(n+="a",i.push(s)),n+"("+i.join(",")+")"}},o=function(a){var s=this.data(t+"_data");if(s)return"string"==typeof a&&s[a]?s[a].apply(s,Array.prototype.slice.call(arguments,1)):console.log("Method "+a+" does not exist on jQuery."+t);if(!a||"object"==typeof a){for(var n=this.length,i=0;i<n;i++){var r=e(this[i]);s=e.extend({},l),s.init(r,a),r.data(t+"_data",s)}return this}return console.log("jQuery."+t+' is not instantiated. Please call $("selector").'+t+"({options})")};e.fn?e.fn[t]=o:e.prototype[t]=o}(bg);